<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Callback Function</title>
  </head>
  <body>
    <script>
      //Q1 - Create a function delayedMessage that prints the message after the delay, then calls the callback.
      function delayedMessage(msg, delay, callback) {
        setTimeout(() => {
          console.log(msg);
          callback();
        }, delay);
      }
      delayedMessage("hello", 2000, () => {
        console.log("log printed");
      });

      //Q2 - create a fucntion downloadFile that print file downloaded after the delay , then calls callback.
      function downloadFile(url, callback) {
        console.log("Downloading...");

        setTimeout(() => {
          console.log("File downloaded");
          callback(); // call when done
        }, 2000);
      }

      downloadFile("file.com", () => {
        console.log("Now processing file");
      });
      //Q3 - Write a function calculate Callback should decide what to do (add, subtract, multiply, divide).
      function calculate(a, b, operation) {
        return operation(a, b);
      }

      calculate(4, 2, (x, y) => console.log(x + y));
      calculate(4, 2, (x, y) => console.log(x - y));
      calculate(4, 2, (x, y) => console.log(x * y));
      calculate(4, 2, (x, y) => console.log(x / y));

      //Q4 - Create a function greet Print "Hello name" Then run callback that prints "Welcome!".
      function greet(name, callback) {
        console.log("Hello", name);
        callback();
      }
      greet("Ritik", () => {
        console.log("welcome");
      });

      //Q5 Create asyncSum(a, b, callback)

      function asyncSum(a, b, sum) {
        setTimeout(() => {
          sum(a + b);
        }, 1000);
      }
      asyncSum(3, 4, (result) => {
        console.log("sum is", result);
      });

      //Q6 -Write a function sequentialTasks(t1, t2, t3)
      function task1(cb) {
        console.log("Task1 is done");
        cb();
      }
      function task2(cb) {
        console.log("Task 2 is done");
        cb();
      }
      function task3(cb) {
        console.log("Task 3 is done");
        cb();
      }
      function task4(cb) {
        console.log("Task 4 is done");
        cb();
      }
      function task5(cb) {
        console.log("Task 5 is done");
        cb();
      }
      task1(()=>{
        task2(()=>{
          task3(()=>{
            task4(()=>{
              task5(()=>{
                console.log("all task done");
              })
            })
          })
        })
      });
    </script>
  </body>
</html>
